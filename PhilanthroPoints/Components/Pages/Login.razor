@page "/Login"
@using System.ComponentModel.DataAnnotations
@using Microsoft.AspNetCore.Components.Forms

<h2 style="color: var(--brand-blue-600)" class="mb-2">Sign in</h2>
<p class="text-muted">Use your email and password to continue.</p>

<div class="card" style="max-width:560px;">
  <div class="p">
    <EditForm Model="_model" OnValidSubmit="SubmitAsync">
      <DataAnnotationsValidator />
      <ValidationSummary />

      <div style="margin-bottom:.75rem">
        <label for="email">Email</label><br />
        <InputText id="email" class="input" @bind-Value="_model.Email" />
        <ValidationMessage For="@(() => _model.Email)" />
      </div>

      <div style="margin-bottom:.75rem">
        <label for="pwd">Password</label><br />
        <InputText id="pwd" type="password" class="input" @bind-Value="_model.Password" />
        <ValidationMessage For="@(() => _model.Password)" />
      </div>

      <div style="display:flex; align-items:center; gap:.5rem; margin-bottom:1rem">
        <InputCheckbox id="remember" @bind-Value="_model.RememberMe" />
        <label for="remember" class="text-muted">Remember me</label>
      </div>

      <div style="display:flex; gap:.5rem; align-items:center">
        <button class="btn primary" type="submit">
          <span style="color:#fff">Sign in</span>
        </button>
        <a class="btn ghost" href="/">Cancel</a>
        <a class="text-muted" href="#" title="Placeholder">Forgot password?</a>
      </div>

      @if (!string.IsNullOrEmpty(_message))
      {
        <p class="text-muted" style="margin-top:1rem">@_message</p>
      }
    </EditForm>
  </div>
</div>

@code {
  private readonly LoginModel _model = new();

  private async Task SubmitAsync()
  {
    // Placeholder only — no real auth yet
    await Task.Delay(300);
    _message = "Authentication coming soon — this is a UI stub.";
  }

  private string? _message;

  public sealed class LoginModel
  {
    [Required, EmailAddress]
    public string Email { get; set; } = string.Empty;

    [Required, MinLength(6)]
    public string Password { get; set; } = string.Empty;

    public bool RememberMe { get; set; }
  }
}
